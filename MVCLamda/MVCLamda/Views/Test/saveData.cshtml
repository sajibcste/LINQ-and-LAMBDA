@model MVCLamda.Models.EmployeeViewModel
@{
    ViewBag.Title = "saveData";
}

<h2>saveData</h2>

<style>
    .error {
        color: red;
    }
</style>

@*@using (Html.BeginForm("saveData", "Test", FormMethod.Post))
    {
        @Html.DropDownListFor(x => x.DepartmentId, ViewBag.datlist as SelectList, "...select..", new { @class = "form-control" })
        @Html.ValidationMessageFor(x => x.DepartmentId, "", new { @class = "error" })
        @Html.TextBoxFor(x => x.Name, new { @class = "form-control", @placeholder = "Name" })
        @Html.ValidationMessageFor(x => x.Name, "", new { @class = "error" })
        @Html.TextBoxFor(x => x.Address, new { @class = "form-control", @placeholder = "Adreess" })
        @Html.ValidationMessageFor(x => x.Address, "", new { @class = "error" })
        <input type="submit" value="submit" class="btn btn-primary" />
    }*@
<div class="container" style="width:40%;margin-top:2%">

    <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Open Modal</a>

    <div class="modal fade" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <a href="#" class="close" data-dismiss="modal">&times;</a>
                    <h3 class="modal-title">Technotips MVC</h3>

                </div>
                <div>
                    <div class="modal-body">
                        <form id="myForm">
                            @Html.TextBoxFor(x => x.Name, new { @class = "form-control", @placeholder = "Name" })

                            @Html.TextBoxFor(x => x.Address, new { @class = "form-control", @placeholder = "Adreess" })
                           
                        </form>
                        <div style="text-align:center;display:none" id="loaderDiv">
                            <img src="~/Content/InternetSlowdown_Day.gif" width="150" /> 
                        </div>


                    </div>
                    <div class="modal-footer">
                        <a href="#" class="btn btn-default" data-dismiss="modal">Cancel</a>
                         <input type="button" value="submit" class="btn btn-primary" id="buttonsave" />
                    </div>
                </div>

            </div>

        </div>

    </div>

</div>

<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script>
    $(document).ready(function () {

        $("#buttonsave").click(function () {
            $("#loaderDiv").show();

            debugger
            var data = $("#myForm").serialize();

            $.ajax({
                type: "POST",
                url: "/Test/saveData",
                data: data,
                success: function (response) {

                    alert("Data saved");
                    $("#loaderDiv").hide();
                    $("#myModal").modal("hide");
                }
            })
        })
    })
</script>
@*<script src="~/Scripts/jquery-1.10.2.min.js"></script>

    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>*@
